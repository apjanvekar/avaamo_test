Post	MakePayment	This operation will send a request to VisionPLUS with to apply the payments received from Netbanking real-time. VisionPLUS will receive the payment request and will apply the payment to the Card.
Post	ChangePIN	This operation is used to change PIN for credit card.
Post	UpdateBlockCode	This operation is used to block or unblock a credit card.
Post	SetLocationIndicator	This operation is used to set Local Use Indicator. This indicator identifies whether the card can be used at International location or Locally only.
Post	RedeemRewardPoints	This operation is used to redeem reward points.
Post	CheckMobileUpdate	This operation is used to check whether mobile number has been updated in last 15days.
Post	GetStatementLink	This operation gets the link to the location where statement document resides which is generated by Aurionpro application.
Post	MerchantPayment	This operation will send a Merchant Payment request to Credit Card Switch.
Post	DebitCCAcc	This operation will Debit\Credit CC Acc provided
Post	BlockCC	This operation will Block CC access based on Mobile Number & Card Number digits.
Post	GetCCDetails	This Operation will fetch CC details based on Mobile Number, Card Number digits 


ESB Operation Names	Functionality
VerifyRegistration	This operation is to retrieve Customer Id and Mobile Number details from V+, while doing registration using Credit Card.
GetLinkedCardAccountList	This operation is to fetch linked card numbers (Primary & Add-on) along with associated Account numbers, Cardholder type , Mobile Number and Email details, for a particular customer.
GetCardAccountDetails	This operation is to fetch Account Details for a particular account number.
GetUnbilledTxnsDetails	This operation is to fetch Unbilled transaction details for particular Account number, direction flag and Unbilled transaction sequence number.
MakePayment	This operation will send a request to VisionPLUS with to apply the payments received from Netbanking real-time. VisionPLUS will receive the payment request and will apply the payment to the Card.
ChangePIN	This operation is used to change PIN for credit card. <There is still requirement related open point, which are yet not decided on approach perspective, hence this API is not complete>
UpdateBlockCode	This operation is used to block or unblock a credit card.
SetLocationIndicator	This operation is used to set Local Use Indicator. This indicator identifies whether the card can be used at International location or Locally only.
RedeemRewardPoints	This operation is used to redeem reward points.
CheckMobileUpdate	This operation is used to check whether mobile number has been updated in last 15days.
GetStatementLink	This operation gets the link to the location where statement document resides which is generated by Aurionpro application.
SendAlertToVivaConnect	This operation will send SMS and/or E-mail notification details to Viva Connect service provider.



CreditCard services will be exposed as SOAP and JSON based web service.
Main Gateway flow will route both XML/JSON request to the required subflow based on the operation name.
All the operation, except for ‘ChangePIN’ and ‘GetStatementLink’, will be routed to ‘CreditCardOperation’ subflow.
‘ChangePINOperation’  subflow will be used for ‘ChangePIN’ operation.
‘GetStatementLinkOperation’ subflow will be used for ‘GetStatementLink’ operation.
The rationale to keep ‘ChagnePIN’ operation as a separate sub-flow is because it requires interaction with HSM to decrypt the received PIN Block details from RNB and encrypt in the format that is required by VisionPLUS. 
The rationale to keep ‘GetStatementLink’ operation as a separate sub-flow is because it interacts with AurionPro application to fetch link to credit card statement, which is then directly used by RNB to fetch the statement.
For the rest of the operation the functionality remains common, i.e. to create XML message and post it to VisionPLUS over MQ.
The main Gateway messageflow perform validation check on the header part of the request messages to check:
1.	‘RequesterID’ is available in the list of consumers maintained in ‘channelIdList’ variable of broker configurable service.
2.	‘ServiceName’ is ‘CreditCardService’.
3.	 ‘ReqRefTimeStamp’ has valid datetime stamp.


The Gateway messagflow refers to a configurable service called ‘CreditCard’, which has the following variables:
1.	Log level for each operation.
2.	channelIdList – Lits of consumers that can access this service.
3.	VERSION – Version number to be sent as part of request message to VisionPLUS.
4.	CLIENTID  –Client ID to be sent as part of request message to VisionPLUS
5.	CONTEXT – Context value to be sent as part of request message to VisionPLUS.
6.	NAME – Name value to be sent as part of request message to VisionPLUS.
7.	SIGNON_NAME – Sign-On Name value to be sent as part of request message to VisionPLUS.

Each operation is implemented in a subflow.
 
